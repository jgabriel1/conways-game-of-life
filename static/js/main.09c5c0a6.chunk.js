(this["webpackJsonpgame-of-life"]=this["webpackJsonpgame-of-life"]||[]).push([[0],{88:function(e,t,i){"use strict";i.r(t);var n=i(0),r=i.n(n),a=i(63),c=i.n(a),o=i(114),l=i(3),u=Object(n.createContext)({}),s=function(e){var t=e.children,i=window.innerHeight-64,n=window.innerWidth-64,r=Math.floor(n/32),a=Math.floor(i/32);return Object(l.jsx)(u.Provider,{value:{cellsHorizontal:r,cellsVertical:a,cellDimension:32},children:t})};function h(){return Object(n.useContext)(u)}var d=i(2),g=i(64),b=i(70),f=i(14),j=i(15),v=i(9),m=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(f.a)(this,e),this.isAlive=void 0,this.neighbors=void 0,this.isAlive=t,this.neighbors=[]}return Object(j.a)(e,[{key:"setIsAlive",value:function(e){this.isAlive=e}},{key:"getNeighbors",value:function(){return this.neighbors}},{key:"addNeighbor",value:function(e){this.neighbors.push(e)}}]),e}(),O=function(){function e(t,i,n,r){Object(f.a)(this,e),this.grid=t,this.height=i,this.width=n,this.shouldWrapAround=r,this.buildNeighborhoodNetwork()}return Object(j.a)(e,[{key:"getCell",value:function(e,t){if(!this.shouldWrapAround)return e>=this.width||t>=this.height||e<0||t<0?null:this.grid[t][e];var i=e,n=t;return e<0?i=this.width-1:e>=this.width&&(i=0),t<0?n=this.height-1:t>=this.height&&(n=0),this.grid[n][i]}},{key:"buildNeighborhoodNetwork",value:function(){var e=this;this.grid.forEach((function(t,i){t.forEach((function(t,n){[[n-1,i-1],[n-1,i],[n-1,i+1],[n,i-1],[n,i+1],[n+1,i-1],[n+1,i],[n+1,i+1]].forEach((function(i){var n=e.getCell.apply(e,Object(v.a)(i));n&&t.addNeighbor(n)}))}))}))}},{key:"toggleCell",value:function(e,t){var i=this.getCell(e,t);null===i||void 0===i||i.setIsAlive(!i.isAlive)}},{key:"forEach",value:function(e){this.grid.forEach(e)}},{key:"map",value:function(e){return this.grid.map(e)}}],[{key:"create",value:function(t){var i=t.height,n=t.width,r=t.shouldWrapAround,a=void 0===r||r;return new e(Array.from(Array(i),(function(){return Array.from(Array(n),(function(){return new m}))})),i,n,a)}}]),e}(),p=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Object(f.a)(this,e),this.cellChanged=void 0,this.cellChanged=t}return Object(j.a)(e,[{key:"getCellChanged",value:function(){return this.cellChanged}},{key:"notifyCellChanged",value:function(){this.cellChanged=!0}},{key:"resetCellChanged",value:function(){this.cellChanged=!1}}]),e}(),C=i(72),y=i(27),x=i(71),k=i(68),w=function(e){Object(x.a)(i,e);var t=Object(k.a)(i);function i(){var e,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1?arguments[1]:void 0;return Object(f.a)(this,i),(e=t.call(this,n)).cellObserver=void 0,e.cellObserver=r,e}return Object(j.a)(i,[{key:"setIsAlive",value:function(e){Object(C.a)(Object(y.a)(i.prototype),"setIsAlive",this).call(this,e),this.cellObserver.notifyCellChanged()}}]),i}(m),A=function(){function e(t,i,n,r){Object(f.a)(this,e),this.grid=t,this.image=i,this.cellChangeObserver=n,this.onImageUpdateCallback=r,this.buildImage()}return Object(j.a)(e,[{key:"getImage",value:function(){return this.image}},{key:"executeCallback",value:function(){this.onImageUpdateCallback&&this.onImageUpdateCallback(this.image)}},{key:"buildImage",value:function(){this.image=this.grid.map((function(e){return e.map((function(e){return e.isAlive}))}))}},{key:"rebuildImage",value:function(){this.buildImage(),this.executeCallback(),this.cellChangeObserver.resetCellChanged()}},{key:"getCell",value:function(e,t){return this.grid.getCell(e,t)}},{key:"toggleCell",value:function(e,t){this.grid.toggleCell(e,t);var i=this.image[t][e];this.image[t][e]=!i,this.rebuildImage()}},{key:"forEach",value:function(e){this.grid.forEach(e),this.cellChangeObserver.getCellChanged()&&this.rebuildImage()}},{key:"map",value:function(e){var t=this.grid.map(e);return this.cellChangeObserver.getCellChanged()&&this.rebuildImage(),t}}],[{key:"create",value:function(t){var i=t.height,n=t.width,r=t.shouldWrapAround,a=void 0===r||r,c=t.onImageUpdateCallback,o=new p,l=Array.from(Array(i),(function(){return Array.from(Array(n),(function(){return new w(!1,o)}))}));return new e(new O(l,i,n,a),[],o,c)}},{key:"createRandom",value:function(t){var i=t.height,n=t.width,r=t.shouldWrapAround,a=void 0===r||r,c=t.onImageUpdateCallback,o=new p,l=Array.from(Array(i),(function(){return Array.from(Array(n),(function(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;return Math.random()>e}(.66);return new w(e,o)}))}));return new e(new O(l,i,n,a),[],o,c)}}]),e}(),I=function(){function e(t,i,n,r){Object(f.a)(this,e),this.mainGrid=t,this.offGrid=i,this.refreshRate=n,this.timeout=r}return Object(j.a)(e,[{key:"toggleCell",value:function(e,t){this.mainGrid.toggleCell(e,t)}},{key:"isRunning",value:function(){return!!this.timeout}},{key:"stop",value:function(){this.timeout&&(clearInterval(this.timeout),delete this.timeout)}},{key:"run",value:function(){var t=this;this.timeout=setInterval((function(){t.mainGrid.forEach((function(e,i){e.forEach((function(e,n){var r=e.isAlive,a=t.offGrid.getCell(n,i);null===a||void 0===a||a.setIsAlive(r)}))})),t.offGrid.forEach((function(i,n){i.forEach((function(i,r){var a=e.getNextLifeStatus(i),c=t.mainGrid.getCell(r,n);null===c||void 0===c||c.setIsAlive(a)}))}))}),this.refreshRate)}}],[{key:"getNextLifeStatus",value:function(e){var t=e.getNeighbors().reduce((function(e,t){return t.isAlive?e+1:e}),0);return 3===t||2===t&&e.isAlive}}]),e}();function W(e){var t,i=e.gridHeight,n=e.gridWidth,r=e.gridType,a=e.onImageUpdateCallback,c=Object(b.a)(e,["gridHeight","gridWidth","gridType","onImageUpdateCallback"]);switch(r){case"random":t=A.createRandom({height:i,width:n,shouldWrapAround:c.shouldWrapAround,onImageUpdateCallback:a});break;default:case"clear":t=A.create({height:i,width:n,shouldWrapAround:c.shouldWrapAround,onImageUpdateCallback:a})}return a(t.getImage()),function(e){var t=e.mainGridFactory,i=e.offGridFactory,n=e.gridHeight,r=e.gridWidth,a=e.shouldWrapAround,c=void 0===a||a,o=e.refreshRate,l=void 0===o?200:o,u=t?t():O.create({height:n,width:r,shouldWrapAround:c}),s=i?i():O.create({height:n,width:r,shouldWrapAround:c});return new I(u,s,l)}(Object(g.a)({mainGridFactory:function(){return t},gridHeight:i,gridWidth:n},c))}var G=Object(n.createContext)({}),S=function(e){var t=e.children,i=h(),r=i.cellsVertical,a=i.cellsHorizontal,c=Object(n.useState)([]),o=Object(d.a)(c,2),u=o[0],s=o[1],g=Object(n.useState)((function(){return W({gridHeight:r,gridWidth:a,gridType:"clear",onImageUpdateCallback:function(e){return s(e)}})})),b=Object(d.a)(g,2),f=b[0],j=b[1],v=Object(n.useState)((function(){return f.isRunning()})),m=Object(d.a)(v,2),O=m[0],p=m[1],C=Object(n.useCallback)((function(){if(!O){var e=W({gridHeight:r,gridWidth:a,gridType:"random",onImageUpdateCallback:function(e){return s(e)}});j(e)}}),[a,r,O]),y=Object(n.useCallback)((function(){if(!O){var e=W({gridHeight:r,gridWidth:a,gridType:"clear",onImageUpdateCallback:function(e){return s(e)}});j(e)}}),[a,r,O]),x=Object(n.useCallback)((function(e,t){f.toggleCell(e,t)}),[f]),k=Object(n.useCallback)((function(){f.isRunning()?f.stop():f.run(),p((function(e){return!e}))}),[f]);return Object(l.jsx)(G.Provider,{value:{grid:u,gameIsRunning:O,resetGame:y,generateRandomGame:C,toggleCell:x,toggleGame:k},children:t})};function z(){return Object(n.useContext)(G)}var R=function(e){var t=e.children;return Object(l.jsx)(s,{children:Object(l.jsx)(S,{children:t})})},E=i(105),U=i(106),H=i(104),N=Object(n.memo)((function(e){var t=e.dimension,i=e.isAlive,n=Object(d.a)(e.coordinates,2),r=n[0],a=n[1],c=e.toggleCell,o=e.isClicked;return Object(l.jsx)(H.a,{onMouseEnter:function(){return o&&c(r,a)},onMouseDown:function(){return c(r,a)},border:"1px",borderColor:"whiteAlpha.300",borderRadius:"sm",h:"".concat(t,"px"),w:"".concat(t,"px"),bg:i?"gray.500":"gray.200"})}),(function(e,t){return e.isAlive===t.isAlive&&e.isClicked===t.isClicked})),M=function(){var e=z(),t=e.grid,i=e.toggleCell,r=h(),a=r.cellDimension,c=r.cellsVertical,o=r.cellsHorizontal,u=Object(n.useState)(!1),s=Object(d.a)(u,2),g=s[0],b=s[1];return Object(l.jsx)(E.a,{align:"center",justify:"center",bg:"gray.100",flex:"1",children:Object(l.jsx)(U.a,{templateColumns:"repeat(".concat(o,", 1fr)"),templateRows:"repeat(".concat(c,", 1fr)"),onMouseDown:function(){return b(!0)},onMouseUp:function(){return b(!1)},onMouseLeave:function(){return b(!1)},children:t.map((function(e,t){return e.map((function(e,n){return Object(l.jsx)(N,{dimension:a,coordinates:[n,t],isAlive:e,isClicked:g,toggleCell:i},String("".concat(t,":").concat(n)))}))}))})})},D=i(115),T=i(107),F=i(69),L=i(109),B=i(110),V=i(113),J=i(116),P=i(51),q=function(){var e=z(),t=e.gameIsRunning,i=e.toggleGame,n=e.generateRandomGame,r=e.resetGame,a=Object(D.a)({base:!1,md:!0});return Object(l.jsx)(H.a,{bg:"blue.400",px:"24px",w:"100%",children:Object(l.jsxs)(E.a,{as:"header",w:"100%",maxW:1180,h:"64px",mx:"auto",align:"center",justify:"space-between",children:[Object(l.jsx)(T.a,{color:"white",size:"lg",fontWeight:"medium",children:"Conway's Game of Life"}),Object(l.jsxs)(E.a,{gridGap:"2",children:[a?Object(l.jsx)(F.a,{type:"button",w:"100px",onClick:function(){return i()},size:"lg",colorScheme:t?"red":"green",children:Object(l.jsx)(L.a,{fontWeight:"medium",color:t?"gray.800":"inherit",children:t?"Stop":"Start"})}):Object(l.jsx)(B.a,{colorScheme:t?"red":"green",type:"button","aria-label":"toggle-game",icon:t?Object(l.jsx)(P.b,{}):Object(l.jsx)(P.c,{}),size:"lg",fontSize:"20px",onClick:function(){return i()}}),a?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(F.a,{type:"button",w:"100px",size:"lg",colorScheme:"blue",onClick:function(){return n()},disabled:t,children:Object(l.jsx)(L.a,{fontWeight:"medium",children:"Generate"})}),Object(l.jsx)(F.a,{type:"button",w:"100px",size:"lg",colorScheme:"blue",variant:"solid",onClick:function(){return r()},disabled:t,children:Object(l.jsx)(L.a,{fontWeight:"medium",children:"Clear"})})]}):Object(l.jsxs)(V.a,{size:"lg",children:[Object(l.jsx)(V.b,{as:B.a,type:"button",colorScheme:"whiteAlpha",color:"whiteAlpha.900","aria-label":"menu-toggle",icon:Object(l.jsx)(P.a,{}),size:"lg",fontSize:"20px",variant:"ghost",disabled:t}),Object(l.jsx)(V.c,{minW:"128px",bg:"transparent",border:"none",children:Object(l.jsxs)(J.a,{children:[Object(l.jsx)(F.a,{type:"button",w:"100px",size:"md",colorScheme:"blue",onClick:function(){return n()},disabled:t,children:Object(l.jsx)(L.a,{fontWeight:"medium",children:"Generate"})}),Object(l.jsx)(F.a,{type:"button",w:"100px",size:"md",colorScheme:"blue",onClick:function(){return r()},disabled:t,children:Object(l.jsx)(L.a,{fontWeight:"medium",children:"Clear"})})]})})]})]})]})})},K=function(e){var t=e.children;return Object(l.jsx)(E.a,{flexDir:"column",h:"100vh",w:"100vw",children:t})},Q=i(112),X=Object(Q.a)({fonts:{heading:"Barlow, sans-serif",body:"Barlow, sans-serif"}}),Y=function(){return Object(l.jsx)(o.a,{theme:X,children:Object(l.jsx)(R,{children:Object(l.jsxs)(K,{children:[Object(l.jsx)(q,{}),Object(l.jsx)(M,{})]})})})};c.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(Y,{})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.09c5c0a6.chunk.js.map